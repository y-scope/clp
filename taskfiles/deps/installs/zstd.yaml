version: "3"

tasks:
  default:
    internal: true
    run: "once"
    cmds:
      - task: ":utils:install-remote-cmake-lib"
        vars:
          CMAKE_GEN_ARGS:
            - "-DCMAKE_BUILD_TYPE=Release"
            - "-DCMAKE_INSTALL_MESSAGE=LAZY"
            - "-DZSTD_BUILD_PROGRAMS=OFF"
            - "-DZSTD_BUILD_SHARED=ON"
            - "-DZSTD_BUILD_STATIC=ON"
            - "-DZSTD_BUILD_TESTS=OFF"
          CMAKE_SOURCE_DIR: "build/cmake"
          INSTALL_TASK_NAME: "zstd"
          LIB_NAME: "zstd"
          TARBALL_SHA256: "eb33e51f49a15e023950cd7825ca74a4a2b43db8354825ac24fc1b7ee09e6fa3"
          TARBALL_URL: "https://github.com/facebook/zstd/releases/download/v1.5.7/zstd-1.5.7.tar.gz"
