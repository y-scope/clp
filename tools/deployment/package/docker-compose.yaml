name: "clp-package"

include: ["docker-compose.volumes.yaml"]

services:
  database:
    profiles: !reset []
    extends:
      service: "database"
      file: "docker-compose.base.yaml"

  db-table-creator:
    profiles: !reset []
    extends:
      service: "db-table-creator"
      file: "docker-compose.base.yaml"

  queue:
    profiles: !reset []
    extends:
      service: "queue"
      file: "docker-compose.base.yaml"

  redis:
    profiles: !reset []
    extends:
      service: "redis"
      file: "docker-compose.base.yaml"

  results-cache:
    profiles: !reset []
    extends:
      service: "results-cache"
      file: "docker-compose.base.yaml"

  results-cache-indices-creator:
    profiles: !reset []
    extends:
      service: "results-cache-indices-creator"
      file: "docker-compose.base.yaml"

  compression-scheduler:
    profiles: !reset []
    extends:
      service: "compression-scheduler"
      file: "docker-compose.base.yaml"

  compression-worker:
    profiles: !reset []
    extends:
      service: "compression-worker"
      file: "docker-compose.base.yaml"

  query-scheduler:
    profiles: !reset []
    extends:
      service: "query-scheduler"
      file: "docker-compose.base.yaml"

  query-worker:
    profiles: !reset []
    extends:
      service: "query-worker"
      file: "docker-compose.base.yaml"

  reducer:
    profiles: !reset []
    extends:
      service: "reducer"
      file: "docker-compose.base.yaml"

  webui:
    profiles: !reset []
    extends:
      service: "webui"
      file: "docker-compose.base.yaml"

  mcp-server:
    # Inherit the `profiles` defined in `docker-compose.base.yaml`.
    extends:
      service: "mcp-server"
      file: "docker-compose.base.yaml"

  garbage-collector:
    profiles: !reset []
    extends:
      service: "garbage-collector"
      file: "docker-compose.base.yaml"
